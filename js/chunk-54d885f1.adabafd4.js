(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54d885f1"],{"00ea":function(t,e,a){},"0145":function(t,e,a){"use strict";var s=a("767a"),r=a.n(s);r.a},"1e9a":function(t,e,a){},5115:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row fixed-bottom"},[a("router-link",{staticClass:"btn btn-primary col p-3",attrs:{to:{name:"order"}}},[a("p",[t._v("店內點餐")])]),a("router-link",{staticClass:"btn btn-primary col p-3",attrs:{to:{name:"day-orders"}}},[a("p",[t._v("當日訂單")])]),a("router-link",{staticClass:"btn btn-primary col p-3",attrs:{to:{name:"memberseach"}}},[a("p",[t._v("會員管理")])]),a("router-link",{staticClass:"btn btn-primary col p-3",attrs:{to:{name:"manage-dishes"}}},[a("p",[t._v("菜單管理")])])],1)},r=[],n={methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")}}},i=n,o=(a("0145"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"770e8c05",null);e["a"]=c.exports},"5e94":function(t,e,a){"use strict";var s=a("00ea"),r=a.n(s);r.a},"767a":function(t,e,a){},8229:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"text-right"},[s("h1",{staticClass:"d-inline float-left"},[t._v(t._s(this.initialTitle))]),s("router-link",{staticClass:"mr-3",attrs:{to:"/"}},[t._v("儀錶板")]),s("router-link",{staticClass:"mr-3",attrs:{to:"/"}},[t._v("未製作(N)")]),s("router-link",{staticClass:"mr-3",attrs:{to:"/"}},[t._v("未結帳(N)")]),[s("router-link",{staticClass:"mr-3",attrs:{to:"#"}},[s("img",{staticClass:"userImg",attrs:{src:a("a7d1"),alt:""}})]),s("button",{staticClass:"btn btn-sm btn-warning my-2 my-sm-0",attrs:{type:"button"},on:{click:t.logout}},[t._v("登出")])]],2)},r=[],n={props:{initialTitle:{type:String}},methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push("/signin")}}},i=n,o=(a("b04d"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"66a8aaa2",null);e["a"]=c.exports},"9b2a":function(t,e,a){"use strict";a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d");var s=a("2fa3");e["a"]={categories:{get:function(){return s["a"].get("/categories")}},dishes:{get:function(t){var e=t.categoryId,a=new URLSearchParams({categoryId:e});return s["a"].get("/dishes?".concat(a.toString()))}},user:{get:function(t){var e=t.phone,a=new URLSearchParams({phone:e});return s["a"].get("/searchUser?".concat(a.toString()))}},list:{post:function(t){var e=t.dishes,a=t.UserId,r=t.tableNum,n=t.isTakingAway,i=t.memo,o=t.quantity,c=t.amount;return s["a"].post("/orders",{dishes:e,UserId:a,tableNum:r,isTakingAway:n,memo:i,quantity:o,amount:c})}}}},a7d1:function(t,e,a){t.exports=a.p+"img/Logo.34d21c2a.jpg"},b04d:function(t,e,a){"use strict";var s=a("1e9a"),r=a.n(s);r.a},c736:function(t,e,a){"use strict";var s=a("dd40"),r=a.n(s);r.a},dd40:function(t,e,a){},ed8d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"nav nav-pills my-2 col-4"},[t._l(t.categories,(function(e){return a("li",{key:e.id,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:e.routeName}}},[t._v(t._s(e.name))])],1)})),a("li",{staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"admin-dish-new"}}},[t._v("新增菜單")])],1)],2)},r=[],n={data:function(){return{categories:[{id:1,name:"菜單",routeName:"manage-dishes"},{id:2,name:"分類",routeName:"manage-categories"},{id:3,name:"標籤",routeName:"manage-tages"}]}}},i=n,o=(a("c736"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"b7dda0ee",null);e["a"]=c.exports},f74b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavbarTop",{attrs:{"initial-title":t.title}}),a("div",{staticClass:"row"},[a("ManageTabs"),t.title?t._e():a("div",{staticClass:"d-inline-block col-4 d-flex justify-content-center"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination mb-0"},[a("li",{directives:[{name:"show",rawName:"v-show",value:t.previousPage,expression:"previousPage"}],staticClass:"page-item"},[a("router-link",{staticClass:"page-link",staticStyle:{"padding-top":"3px"},attrs:{"aria-label":"Previous",to:{name:"members",query:{page:t.previousPage}}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])],1),t._l(t.totalPage,(function(e){return a("li",{key:e,class:["page-item",{active:t.currentPage===e}]},[a("router-link",{staticClass:"page-link",attrs:{to:{name:"members",query:{page:e}}}},[t._v(t._s(e))])],1)})),a("li",{directives:[{name:"show",rawName:"v-show",value:t.nextPage,expression:"nextPage"}],staticClass:"page-item"},[a("router-link",{staticClass:"page-link",staticStyle:{"padding-top":"3px"},attrs:{to:{name:"members",query:{page:t.nextPage}},"aria-label":"Next"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])],1)],2)])]),a("div",{staticClass:"col-4"})],1),a("div",[a("MealManage",{attrs:{"initial-dishes":t.dishes},on:{"after-delete-dish":t.afterDeleteDish}})],1),a("NavbarBottm")],1)},r=[],n=(a("4de4"),a("d3b7"),a("96cf"),a("8229")),i=a("5115"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",{staticClass:"nav nav-pills my-1"},t._l(t.categories,(function(e){return a("li",{key:e.id,staticClass:"nav-item"},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"manage-dishes",query:{categoryId:e.id}}}},[t._v(t._s(e.name))])],1)})),0),a("div",{staticClass:"row border border-warning meal"},t._l(t.dishes,(function(e){return a("div",{key:e.id,staticClass:"col-4 px-1 mb-3"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex justify-content-between p-0"},[a("h5",{staticClass:"pt-1"},[t._v(t._s(e.name))]),a("div",{staticClass:"dropdown dropleft"},[a("div",{attrs:{id:"dropdownMenu1","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[a("svg",{staticStyle:{width:"24px",height:"24px"},attrs:{viewBox:"0 0 24 24"}},[a("path",{attrs:{fill:"#000000",d:"M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"}})])]),a("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"dropdownMenu1"}},[a("a",{staticClass:"dropdown-item",attrs:{href:"#!"}},[t._v("編輯")]),a("a",{staticClass:"dropdown-item",on:{click:function(a){return a.stopPropagation(),a.preventDefault(),t.handleDeleteButtonClick(e.id)}}},[t._v("刪除")])])])]),a("div",{staticClass:"row",staticStyle:{height:"140px"}},[a("img",{staticClass:"card-img-top col-6 px-0",attrs:{src:e.image,height:"140px",width:"220px"}}),a("div",{staticClass:"card-body col-6 p-0 px-2"},[a("p",{staticClass:"card-text overflow-hidden",staticStyle:{height:"110px"}},[t._v(t._s(e.description))]),a("p",{staticStyle:{position:"absolute",bottom:"0"}},[t._v("價格："+t._s(e.price))])])])])])})),0)])},c=[],l=(a("a4d3"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),u=a("9b2a");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(l["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var h={props:{initialDishes:{type:Array}},data:function(){return{dishId:0,isProcessing:!1,categories:[],dishes:this.initialDishes}},methods:{fetchCategories:function(){var t,e,a;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(u["a"].categories.get());case 3:if(t=s.sent,e=t.data,a=t.statusText,"OK"===a){s.next=7;break}throw new Error(a);case 7:this.categories=e,s.next=13;break;case 10:s.prev=10,s.t0=s["catch"](0),console.log("error",s.t0);case 13:case"end":return s.stop()}}),null,this,[[0,10]])},handleDeleteButtonClick:function(t){this.$emit("after-delete-dish",t)}},created:function(){this.fetchCategories()},watch:{initialDishes:function(t){this.dishes={},this.dishes=p({},this.dishes,{},t)}}},g=h,m=(a("5e94"),a("2877")),f=Object(m["a"])(g,o,c,!1,null,"f5964b7c",null),v=f.exports,b=a("ed8d"),y=a("ff4b"),w={components:{NavbarTop:n["a"],NavbarBottm:i["a"],MealManage:v,ManageTabs:b["a"]},data:function(){return{title:"菜單管理",users:[],dishes:[],phone:void 0,totalPage:void 0,currentPage:1}},computed:{},created:function(){var t=this.$route.query.categoryId,e=void 0===t?1:t;this.fetchDishes({categoryId:e})},beforeRouteUpdate:function(t,e,a){var s=t.query.categoryId,r=void 0===s?1:s;this.fetchDishes({categoryId:r}),a()},methods:{fetchDishes:function(t){var e,a,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(u["a"].dishes.get(t));case 3:if(e=r.sent,a=e.data,s=e.statusText,"OK"===s){r.next=7;break}throw new Error(s);case 7:this.dishes=a,r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](0),this.$swal({type:"warning",title:"無法取得資料，請稍後再試"}),console.log("error",r.t0);case 14:case"end":return r.stop()}}),null,this,[[0,10]])},afterDeleteDish:function(t){var e,a,s;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(y["a"].dish.delete(t));case 3:if(e=r.sent,a=e.data,s=e.statusText,"OK"===s&&"success"===a.status){r.next=7;break}throw new Error(s);case 7:this.dishes=this.dishes.filter((function(e){return e.id!==t})),this.$swal({type:"success",title:a.msg}),r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](0),this.$swal({type:"warning",title:"無法取得資料，請稍後再試"}),console.log("error",r.t0);case 15:case"end":return r.stop()}}),null,this,[[0,11]])}}},C=w,x=Object(m["a"])(C,s,r,!1,null,null,null);e["default"]=x.exports},ff4b:function(t,e,a){"use strict";a("b0c0"),a("d3b7"),a("25f0"),a("3ca3"),a("ddb0"),a("2b3d");var s=a("2fa3"),r=function(){return localStorage.getItem("token")};e["a"]={dish:{get:function(t){var e=new URLSearchParams(t);return s["a"].get("/dishes?".concat(e.toString()))},post:function(t){return s["a"].post("/dishes",t)},put:function(t){var e=t.dishId,a=t.formData;return s["a"].put("/dishes/".concat(e),a)},delete:function(t){return s["a"].delete("/dishes/".concat(t))}},category:{get:function(){return s["a"].get("/categories",{headers:{Authorization:"Bearer ".concat(r())}})},post:function(t){return s["a"].post("/categories",t)},put:function(t){var e=t.categoryId,a=t.name;return s["a"].put("/categories/".concat(e),{name:a})},delete:function(t){return s["a"].delete("/categories/".concat(t))}},tag:{get:function(){return s["a"].get("/tags",{headers:{Authorization:"Bearer ".concat(r())}})},post:function(t){return s["a"].post("/tags",t)},put:function(t){var e=t.categoryId,a=t.name;return s["a"].put("/tags/".concat(e),{name:a})},delete:function(t){return s["a"].delete("/tags/".concat(t))}}}}}]);
//# sourceMappingURL=chunk-54d885f1.adabafd4.js.map